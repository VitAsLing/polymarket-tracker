# Polymarket èªæ˜é’±è·Ÿè¸ªå™¨ v2.0

é€šè¿‡ Telegram Bot è®¢é˜… Polymarket ç”¨æˆ·åœ°å€ï¼Œè‡ªåŠ¨æ¨é€äº¤æ˜“æ´»åŠ¨ (ä¹°å…¥/å–å‡º/èµå›)ã€‚

## æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Polymarket     â”‚      â”‚  Cloudflare        â”‚      â”‚  Telegram       â”‚
â”‚  Data API       â”‚â”€â”€â”€â”€â”€â–¶â”‚  Workers           â”‚â”€â”€â”€â”€â”€â–¶â”‚  Bot API        â”‚
â”‚                 â”‚      â”‚  (æ¯åˆ†é’Ÿè½®è¯¢)       â”‚      â”‚  (Webhookæ¥æ”¶)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  Cloudflare KV     â”‚
                         â”‚  (è®¢é˜…åˆ—è¡¨+çŠ¶æ€)    â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Bot å‘½ä»¤

### è®¢é˜…ç®¡ç†

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/subscribe <åœ°å€> [åˆ«å]` | è®¢é˜…åœ°å€ï¼Œåˆ«åå¯é€‰ï¼ˆé»˜è®¤ç”¨ Polymarket ç”¨æˆ·åï¼‰ |
| `/unsubscribe <åœ°å€>` | å–æ¶ˆè®¢é˜… |
| `/list` | æŸ¥çœ‹è®¢é˜…åˆ—è¡¨ |
| `/alias <åœ°å€> <æ–°åˆ«å>` | ä¿®æ”¹åˆ«å |

### æŸ¥è¯¢æ•°æ®

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/pos [åœ°å€/åˆ«å]` | å½“å‰æŒä»“ |
| `/pnl [åœ°å€/åˆ«å]` | å·²å®ç°æ”¶ç›Šï¼ˆå·²å¹³ä»“ï¼‰ |
| `/value [åœ°å€/åˆ«å]` | æŒä»“æ€»ä»·å€¼ |
| `/rank [åœ°å€/åˆ«å]` | æ’è¡Œæ¦œæ’åï¼ˆæ—¥/å‘¨/æœˆï¼‰ |

> å¦‚æœåªæœ‰ä¸€ä¸ªè®¢é˜…ï¼ŒæŸ¥è¯¢å‘½ä»¤å¯çœç•¥åœ°å€å‚æ•°

## æ¨é€æ¶ˆæ¯ç¤ºä¾‹

### ä¹°å…¥
```
ğŸŸ¢ ä¹°å…¥ | èªæ˜é’±A

ğŸ·ï¸ Will Trump win 2024 election?
ğŸ“Œ ä¹°å…¥ Yes @ 52.3%

ğŸ’° æŠ•å…¥: $1,000.00
ğŸ“ˆ ä»½æ•°: 1,912.05
ğŸ’µ è‹¥èƒœ: $912.05 (+91.2%)

â° 2026-01-22 15:30:00 UTC
ğŸ”— å¸‚åœº | äº¤æ˜“
```

### å–å‡º
```
ğŸ”´ å–å‡º | èªæ˜é’±A

ğŸ·ï¸ Will Trump win 2024 election?
ğŸ“Œ å–å‡º Yes @ 65.0%

ğŸ’µ æ”¶å›: $1,243.00
ğŸ“ˆ ä»½æ•°: 1,912.05

â° 2026-01-22 16:00:00 UTC
ğŸ”— å¸‚åœº | äº¤æ˜“
```

### èµå›
```
âœ… èµå› | èªæ˜é’±A

ğŸ·ï¸ Will Trump win 2024 election?
ğŸ† ç»“æœ: Yes èƒœå‡º

ğŸ’µ èµå›: $1,912.05
ğŸ“ˆ ä»½æ•°: 1,912.05

â° 2026-01-22 17:00:00 UTC
ğŸ”— å¸‚åœº | äº¤æ˜“
```

## éƒ¨ç½²æ­¥éª¤

### 1. åˆ›å»º Telegram Bot

1. æ‰“å¼€ Telegramï¼Œæœç´¢ `@BotFather`
2. å‘é€ `/newbot`
3. æŒ‰æç¤ºè®¾ç½® Bot åç§°å’Œç”¨æˆ·å
4. è·å– Bot Token: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`

### 2. è·å– Chat ID

**ä¸ªäººèŠå¤©:**
1. ç»™ Bot å‘é€ä»»æ„æ¶ˆæ¯
2. è®¿é—®: `https://api.telegram.org/bot<TOKEN>/getUpdates`
3. æ‰¾åˆ° `chat.id`

**ç¾¤ç»„:**
1. æŠŠ Bot æ‹‰å…¥ç¾¤ç»„
2. è®¿é—®ä¸Šè¿° URLï¼Œç¾¤ç»„ ID æ˜¯è´Ÿæ•°å¦‚ `-1001234567890`

### 3. å®‰è£…ä¾èµ–

```bash
bun install
```

### 4. åˆ›å»º KV å­˜å‚¨

```bash
bunx wrangler kv:namespace create "POLYMARKET_KV"
```

å°†è¾“å‡ºçš„ `id` å¡«å…¥ `wrangler.toml`ã€‚

### 5. è®¾ç½®å¯†é’¥

```bash
bunx wrangler secret put TG_BOT_TOKEN
# è¾“å…¥ Bot Token

bunx wrangler secret put TG_CHAT_ID
# è¾“å…¥é»˜è®¤ Chat IDï¼ˆç”¨äºæ–°è®¢é˜…çš„æ¨é€ç›®æ ‡ï¼‰
```

### 6. éƒ¨ç½²

```bash
bunx wrangler deploy
```

### 7. è®¾ç½® Webhook

éƒ¨ç½²åè®¿é—®:
```
https://polymarket-tracker.<è´¦å·>.workers.dev/setWebhook?url=https://polymarket-tracker.<è´¦å·>.workers.dev/webhook
```

## HTTP ç«¯ç‚¹

| è·¯å¾„ | è¯´æ˜ |
|------|------|
| `POST /webhook` | Telegram Bot Webhook |
| `GET /check` | æ‰‹åŠ¨è§¦å‘æ£€æŸ¥ |
| `GET /health` | å¥åº·æ£€æŸ¥ |
| `GET /setWebhook?url=` | è®¾ç½® Telegram Webhook |
| `GET /subscriptions` | æŸ¥çœ‹è®¢é˜…åˆ—è¡¨ (JSON) |

## å¼€å‘

```bash
# æœ¬åœ°å¼€å‘
bunx wrangler dev

# éƒ¨ç½²
bunx wrangler deploy

# æŸ¥çœ‹æ—¥å¿—
bunx wrangler tail
```

## ä¿®æ”¹è½®è¯¢é¢‘ç‡

ç¼–è¾‘ `wrangler.toml` ä¸­çš„ crons:
- `* * * * *` - æ¯åˆ†é’Ÿ
- `*/5 * * * *` - æ¯ 5 åˆ†é’Ÿ

## è´¹ç”¨

å®Œå…¨å…è´¹ï¼ˆåœ¨ Cloudflare Workers å…è´¹é¢åº¦å†…ï¼‰ã€‚

## å¸¸è§é—®é¢˜

**Q: è®¢é˜…åæ²¡æ”¶åˆ°é€šçŸ¥ï¼Ÿ**
1. ç¡®è®¤å·²è®¾ç½® Webhook
2. æ£€æŸ¥ Bot Token å’Œ Chat ID æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥è®¢é˜…åœ°å€æ˜¯å¦æœ‰æ–°äº¤æ˜“
4. è¿è¡Œ `bunx wrangler tail` æŸ¥çœ‹æ—¥å¿—

**Q: å¦‚ä½•æ·»åŠ æ–°åœ°å€ï¼Ÿ**
ç›´æ¥åœ¨ Telegram ä¸­å‘é€ `/subscribe 0xåœ°å€ åˆ«å`

**Q: æŸ¥è¯¢å‘½ä»¤æ˜¾ç¤º"è¯·æä¾›åœ°å€"ï¼Ÿ**
å¦‚æœæœ‰å¤šä¸ªè®¢é˜…ï¼Œéœ€è¦æŒ‡å®šåœ°å€æˆ–åˆ«åï¼Œå¦‚ `/pos èªæ˜é’±A`
